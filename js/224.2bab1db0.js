"use strict";(self["webpackChunktaiwan_travel"]=self["webpackChunktaiwan_travel"]||[]).push([[224],{8533:function(t,e,o){o.d(e,{Z:function(){return g}});var l=o(1831),n=o(6923),a=o(883),i=o(3303);const r=t=>((0,l.dD)("data-v-340fc5cd"),t=t(),(0,l.Cn)(),t),s=r((()=>(0,l._)("img",{class:"position-absolute link",src:a,alt:"link icon"},null,-1))),c=["src","alt"],u={key:1,class:"object-cover w-100",src:i,alt:"該資料沒有圖片",title:"該資料沒有圖片",height:"163"},p={class:"px-3 py-2"},d={class:"text-dark text-truncate"},m={class:"vstack"},h=["title"],v=["title"];function f(t,e,o,a,i,r){const f=(0,l.up)("router-link");return(0,l.wg)(),(0,l.j4)(f,{class:"rounded overflow-hidden bg-white shadow d-block position-relative",to:`/hotels/${o.hotel.HotelID}`,title:o.hotel.HotelName},{default:(0,l.w5)((()=>[s,"PictureUrl1"in o.hotel.Picture?((0,l.wg)(),(0,l.iD)("img",{key:0,class:"object-cover w-100",src:o.hotel.Picture.PictureUrl1,alt:o.hotel.HotelName,height:"163"},null,8,c)):((0,l.wg)(),(0,l.iD)("img",u)),(0,l._)("div",p,[(0,l._)("h4",d,(0,n.zw)(o.hotel.HotelName),1),(0,l._)("div",m,[(0,l._)("div",{class:"phone mb-2 text-truncate",title:a.phoneNumber},(0,n.zw)(a.phoneNumber),9,h),(0,l._)("div",{class:"location me-3 text-truncate",title:o.hotel.Address},(0,n.zw)(o.hotel.Address),9,v)])])])),_:1},8,["to","title"])}var H=o(1222),w={props:{hotel:{type:Object,default:()=>{}}},setup(t){const e=(0,H.iH)(t.hotel.Phone.replace("886-","0"));return{phoneNumber:e}}},y=o(497);const b=(0,y.Z)(w,[["render",f],["__scopeId","data-v-340fc5cd"]]);var g=b},4219:function(t,e,o){o.r(e),o.d(e,{default:function(){return N}});var l=o(1831);const n={class:"text-wrap"};function a(t,e,o,a,i,r){const s=(0,l.up)("InfoPageNavbar"),c=(0,l.up)("InfoBannerPic"),u=(0,l.up)("InfoBasic"),p=(0,l.up)("InfoIntroduction"),d=(0,l.up)("InfoTravel"),m=(0,l.up)("MoreHotels"),h=(0,l.up)("VueLoading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("main",n,[a.tempHotel.HotelName?((0,l.wg)(),(0,l.j4)(s,{key:0,title:a.tempHotel.HotelName,backPath:"/hotels"},null,8,["title"])):(0,l.kq)("",!0),a.tempHotel.Picture?((0,l.wg)(),(0,l.j4)(c,{key:1,picture:a.tempHotel.Picture},null,8,["picture"])):(0,l.kq)("",!0),(0,l.Wm)(u,{phone:a.tempHotel.Phone,location:a.tempHotel.Address,openTime:a.tempHotel.OpenTime},null,8,["phone","location","openTime"]),(0,l.Wm)(p,{description:a.tempHotel.Description,title:"住宿"},null,8,["description"]),(0,l.Wm)(d,{position:a.tempHotel.Position,travelInfo:a.tempHotel.TravelInfo},null,8,["position","travelInfo"]),(0,l.Wm)(m,{nearby:a.nearby,city:a.tempHotel.City},null,8,["nearby","city"])]),a.isLoading?((0,l.wg)(),(0,l.j4)(h,{key:0})):(0,l.kq)("",!0)],64)}var i=o(1222),r=o(5303),s=o(2814),c=o(2552),u=o(6181),p=o(1483),d=o(3668),m=o(3332),h=o(6923);const v={class:"mt-3"},f={class:"text-primary mb-3"},H={class:"overflow-auto d-flex text-nowrap pb-2"};function w(t,e,o,n,a,i){const r=(0,l.up)("Card");return(0,l.wg)(),(0,l.iD)("section",v,[(0,l._)("h6",f,(0,h.zw)(o.city)+"更多住宿",1),(0,l._)("ul",H,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.nearby,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"me-4",key:t.HotelID},[(0,l.Wm)(r,{class:"card",hotel:t},null,8,["hotel"])])))),128))])])}var y=o(8533),b={components:{Card:y.Z},props:{nearby:{type:Array,default:()=>[]},city:{type:String,default:()=>""}}},g=o(497);const I=(0,g.Z)(b,[["render",w],["__scopeId","data-v-6d364c33"]]);var P=I,k=o(7125),C={components:{InfoPageNavbar:c.Z,InfoBannerPic:u.Z,InfoBasic:p.Z,InfoIntroduction:d.Z,InfoTravel:m.Z,MoreHotels:P,VueLoading:k.Z},setup(t){const e=(0,r.yj)(),{hotelId:o}=e.params,n=(0,i.iH)({}),a=(0,i.iH)([]),c=(0,i.iH)(!0),u="v2/Tourism/Hotel?%24format=JSON";return(0,l.bv)((async()=>{try{const t=await(0,s.Z)(u);n.value=t.filter((t=>t.HotelID===o))[0];const{PositionLon:e,PositionLat:l}=n.value.Position,i=`v2/Tourism/Hotel?%24select=HotelID%2CHotelName%2CPicture%2CPhone%2CAddress&%24top=7&%24spatialFilter=nearby(${l}%2C%20${e}%2C%2010000)&%24format=JSON`;a.value=await(0,s.Z)(i),c.value=!1}catch(t){console.log("fetch error",t)}})),(0,l.YP)((()=>e.params.hotelId),(async t=>{c.value=!0;try{const e=await(0,s.Z)(u);n.value=e.filter((e=>e.HotelID===t))[0];const{PositionLon:o,PositionLat:l}=n.value.Position,i=`v2/Tourism/Hotel?%24select=HotelID%2CHotelName%2CPicture%2CPhone%2CAddress&%24top=7&%24spatialFilter=nearby(${l}%2C%20${o}%2C%2010000)&%24format=JSON`;a.value=await(0,s.Z)(i),c.value=!1}catch(e){console.log("fetch error",e)}}),{deep:!0}),{tempHotel:n,nearby:a,isLoading:c}}};const _=(0,g.Z)(C,[["render",a]]);var N=_}}]);
//# sourceMappingURL=224.2bab1db0.js.map