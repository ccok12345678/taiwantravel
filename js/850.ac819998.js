"use strict";(self["webpackChunktaiwan_travel"]=self["webpackChunktaiwan_travel"]||[]).push([[850],{7247:function(t,a,e){e.d(a,{Z:function(){return b}});var n=e(1831),r=e(6923),s=e(883),o=e(3303);const i=t=>((0,n.dD)("data-v-5966db28"),t=t(),(0,n.Cn)(),t),u=i((()=>(0,n._)("img",{class:"position-absolute link",src:s,alt:"link icon"},null,-1))),c=["src","alt"],l={key:1,class:"object-cover w-100",src:o,alt:"該資料沒有圖片",title:"該資料沒有圖片",height:"163"},p={class:"px-3 py-2"},d={class:"text-dark text-truncate"},m={class:"vstack"},v=["title"],f=["title"];function w(t,a,e,s,o,i){const w=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(w,{class:"rounded overflow-hidden bg-white shadow d-block position-relative",to:`/restaurants/${e.restaurant.RestaurantID}`,title:e.restaurant.RestaurantName},{default:(0,n.w5)((()=>[u,"PictureUrl1"in e.restaurant.Picture?((0,n.wg)(),(0,n.iD)("img",{key:0,class:"object-cover w-100",src:e.restaurant.Picture.PictureUrl1,alt:e.restaurant.RestaurantName,height:"163"},null,8,c)):((0,n.wg)(),(0,n.iD)("img",l)),(0,n._)("div",p,[(0,n._)("h4",d,(0,r.zw)(e.restaurant.RestaurantName),1),(0,n._)("div",m,[(0,n._)("div",{class:"open-time mb-2 text-truncate",title:e.restaurant.OpenTime},(0,r.zw)(e.restaurant.OpenTime),9,v),(0,n._)("div",{class:"location me-3 text-truncate",title:e.restaurant.Address},(0,r.zw)(e.restaurant.Address),9,f)])])])),_:1},8,["to","title"])}var y={props:{restaurant:{type:Object,default:()=>{}}}},R=e(497);const g=(0,R.Z)(y,[["render",w],["__scopeId","data-v-5966db28"]]);var b=g},7949:function(t,a,e){e.r(a),e.d(a,{default:function(){return Z}});var n=e(1831);const r={class:"text-wrap"};function s(t,a,e,s,o,i){const u=(0,n.up)("InfoPageNavbar"),c=(0,n.up)("InfoBannerPic"),l=(0,n.up)("InfoBasic"),p=(0,n.up)("InfoIntroduction"),d=(0,n.up)("InfoTravel"),m=(0,n.up)("MoreRestaurants"),v=(0,n.up)("VueLoading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("main",r,[s.tempRestaurant.RestaurantName?((0,n.wg)(),(0,n.j4)(u,{key:0,title:s.tempRestaurant.RestaurantName,backPath:"/restaurants"},null,8,["title"])):(0,n.kq)("",!0),s.tempRestaurant.Picture?((0,n.wg)(),(0,n.j4)(c,{key:1,picture:s.tempRestaurant.Picture},null,8,["picture"])):(0,n.kq)("",!0),(0,n.Wm)(l,{phone:s.tempRestaurant.Phone,location:s.tempRestaurant.Address,openTime:s.tempRestaurant.OpenTime},null,8,["phone","location","openTime"]),(0,n.Wm)(p,{description:s.tempRestaurant.Description,title:"美食"},null,8,["description"]),(0,n.Wm)(d,{position:s.tempRestaurant.Position},null,8,["position"]),(0,n.Wm)(m,{nearby:s.nearby},null,8,["nearby"])]),s.isLoading?((0,n.wg)(),(0,n.j4)(v,{key:0})):(0,n.kq)("",!0)],64)}var o=e(1222),i=e(5303),u=e(2814),c=e(2552),l=e(6181),p=e(1483),d=e(3668),m=e(3332),v=e(6923);const f={class:"mt-3"},w={class:"text-primary mb-3"},y={class:"overflow-auto d-flex text-nowrap pb-2"};function R(t,a,e,r,s,o){const i=(0,n.up)("Card");return(0,n.wg)(),(0,n.iD)("section",f,[(0,n._)("h6",w,(0,v.zw)(e.city)+"更多美食",1),(0,n._)("ul",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.nearby,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"me-4",key:t.ScenicSpotID},[(0,n.Wm)(i,{class:"card",restaurant:t},null,8,["restaurant"])])))),128))])])}var g=e(7247),b={components:{Card:g.Z},props:{nearby:{type:Array,default:()=>[]},city:{type:String,default:()=>""}}},I=e(497);const P=(0,I.Z)(b,[["render",R],["__scopeId","data-v-7e88248a"]]);var h=P,k=e(7125),C={components:{InfoPageNavbar:c.Z,InfoBannerPic:l.Z,InfoBasic:p.Z,InfoIntroduction:d.Z,InfoTravel:m.Z,MoreRestaurants:h,VueLoading:k.Z},setup(t){const a=(0,i.yj)(),{restaurantId:e}=a.params;console.log(e);const r=(0,o.iH)({}),s=(0,o.iH)([]),c=(0,o.iH)(!0),l="v2/Tourism/Restaurant?%24format=JSON";return(0,n.bv)((async()=>{try{const t=await(0,u.Z)(l);r.value=t.filter((t=>t.RestaurantID===e))[0];const{PositionLon:a,PositionLat:n}=r.value.Position,o=`v2/Tourism/Restaurant?%24select=RestaurantID%2CRestaurantName%2CPicture%2COpenTime%2CAddress&%24top=10&%24spatialFilter=nearby(${n}%2C%20${a}%2C%207000)&%24format=JSON`;s.value=await(0,u.Z)(o),c.value=!1}catch(t){console.log("fetch error",t)}})),(0,n.YP)((()=>a.params.restaurantId),(async t=>{c.value=!0;try{const a=await(0,u.Z)(l);r.value=a.filter((a=>a.RestaurantID===t))[0];const{PositionLon:e,PositionLat:n}=r.value.Position,o=`v2/Tourism/Restaurant?%24select=RestaurantID%2CRestaurantName%2CPicture%2COpenTime%2CAddress&%24top=10&%24spatialFilter=nearby(${n}%2C%20${e}%2C%207000)&%24format=JSON`;s.value=await(0,u.Z)(o),c.value=!1}catch(a){console.log("fetch error",a)}}),{deep:!0}),{tempRestaurant:r,nearby:s,isLoading:c}}};const _=(0,I.Z)(C,[["render",s]]);var Z=_}}]);
//# sourceMappingURL=850.ac819998.js.map