"use strict";(self["webpackChunktaiwan_travel"]=self["webpackChunktaiwan_travel"]||[]).push([[505],{4944:function(t,e,i){i.d(e,{Z:function(){return I}});var a=i(1831),n=i(6923),o=i(883),c=i(3303);const r=t=>((0,a.dD)("data-v-3ae70191"),t=t(),(0,a.Cn)(),t),l=r((()=>(0,a._)("img",{class:"position-absolute link",src:o,alt:"link icon"},null,-1))),s=["src","alt"],p={key:1,class:"object-cover w-100",src:c,alt:"該資料沒有圖片",title:"該資料沒有圖片",height:"163"},u={class:"px-3 py-2"},m={class:"text-dark"},d={class:"d-flex"},v=["title"],f=["title"];function y(t,e,i,o,c,r){const y=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(y,{class:"rounded overflow-hidden bg-white shadow d-block position-relative",to:{name:"attractionInfo",params:{attractionId:i.attraction.ScenicSpotID}},title:`察看${i.attraction.ScenicSpotName}`},{default:(0,a.w5)((()=>[l,"PictureUrl1"in i.attraction.Picture?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"object-cover w-100",src:i.attraction.Picture.PictureUrl1,alt:i.attraction.Picture.PictureDescription1,height:"163"},null,8,s)):((0,a.wg)(),(0,a.iD)("img",p)),(0,a._)("div",u,[(0,a._)("h4",m,(0,n.zw)(i.attraction.ScenicSpotName),1),(0,a._)("div",d,[i.attraction.City?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"location me-3",title:i.attraction.City},(0,n.zw)(i.attraction.City),9,v)):(0,a.kq)("",!0),i.attraction.OpenTime?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"open-time text-truncate",title:i.attraction.OpenTime},(0,n.zw)(i.attraction.OpenTime),9,f)):(0,a.kq)("",!0)])])])),_:1},8,["to","title"])}var S={props:{attraction:{type:Object,default:()=>({ScenicSpotName:"觀光活動",Picture:{PictureUrl1:"https://i.ibb.co/125cfL1/illustration-sm.png"},City:"景點位置",OpenTime:"開放時間",ScenicSpotID:"/"})}}},w=i(497);const g=(0,w.Z)(S,[["render",y],["__scopeId","data-v-3ae70191"]]);var I=g},7368:function(t,e,i){i.r(e),i.d(e,{default:function(){return A}});var a=i(1831);const n={class:"text-wrap"};function o(t,e,i,o,c,r){const l=(0,a.up)("InfoPageNavbar"),s=(0,a.up)("InfoBannerPic"),p=(0,a.up)("InfoBasic"),u=(0,a.up)("InfoIntroduction"),m=(0,a.up)("InfoTravel"),d=(0,a.up)("MoreAttractions"),v=(0,a.up)("VueLoading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("main",n,[o.tempAttraction.ScenicSpotName?((0,a.wg)(),(0,a.j4)(l,{key:0,title:o.tempAttraction.ScenicSpotName,backPath:"/attractions"},null,8,["title"])):(0,a.kq)("",!0),o.tempAttraction.Picture?((0,a.wg)(),(0,a.j4)(s,{key:1,picture:o.tempAttraction.Picture},null,8,["picture"])):(0,a.kq)("",!0),(0,a.Wm)(p,{phone:o.tempAttraction.Phone,location:o.tempAttraction.Address,openTime:o.tempAttraction.OpenTime},null,8,["phone","location","openTime"]),(0,a.Wm)(u,{description:o.tempAttraction.DescriptionDetail,title:"景點"},null,8,["description"]),(0,a.Wm)(m,{position:o.tempAttraction.Position,travelInfo:o.tempAttraction.TravelInfo},null,8,["position","travelInfo"]),(0,a.Wm)(d,{nearby:o.nearby,city:o.tempAttraction.City},null,8,["nearby","city"])]),o.isLoading?((0,a.wg)(),(0,a.j4)(v,{key:0})):(0,a.kq)("",!0)],64)}var c=i(1222),r=i(5303),l=i(2814),s=i(2552),p=i(6181),u=i(1483),m=i(3668),d=i(3332),v=i(6923);const f={class:"mt-3"},y={class:"text-primary mb-3"},S={class:"overflow-auto d-flex text-nowrap pb-2"};function w(t,e,i,n,o,c){const r=(0,a.up)("Card");return(0,a.wg)(),(0,a.iD)("section",f,[(0,a._)("h6",y,(0,v.zw)(i.city)+"更多景點",1),(0,a._)("ul",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.nearby,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"me-4",key:t.ScenicSpotID},[(0,a.Wm)(r,{class:"card",attraction:t},null,8,["attraction"])])))),128))])])}var g=i(4944),I={components:{Card:g.Z},props:{nearby:{type:Array,default:()=>[]},city:{type:String,default:()=>""}}},P=i(497);const b=(0,P.Z)(I,[["render",w],["__scopeId","data-v-20a6b466"]]);var C=b,k=i(7125),h={components:{InfoPageNavbar:s.Z,InfoBannerPic:p.Z,InfoBasic:u.Z,InfoIntroduction:m.Z,InfoTravel:d.Z,MoreAttractions:C,VueLoading:k.Z},setup(t){const e=(0,r.yj)(),{attractionId:i}=e.params,n=(0,c.iH)({}),o=(0,c.iH)([]),s=(0,c.iH)(!0),p="v2/Tourism/ScenicSpot?%24format=JSON";return(0,a.bv)((async()=>{try{const t=await(0,l.Z)(p);n.value=t.filter((t=>t.ScenicSpotID===i))[0];const{PositionLon:e,PositionLat:a}=n.value.Position,c=`v2/Tourism/ScenicSpot?%24select=ScenicSpotName%2CPicture%2CCity%2COpenTime%2CScenicSpotID&%24top=5&%24spatialFilter=nearby(${a}%2C%20${e}%2C%205000)&%24format=JSON`;o.value=await(0,l.Z)(c),s.value=!1}catch(t){console.log("fetch error",t)}})),(0,a.YP)((()=>e.params.attractionId),(async t=>{s.value=!0;try{const e=await(0,l.Z)(p);n.value=e.filter((e=>e.ScenicSpotID===t))[0];const{PositionLon:i,PositionLat:a}=n.value.Position,c=`v2/Tourism/ScenicSpot?%24select=ScenicSpotName%2CPicture%2CCity%2COpenTime%2CScenicSpotID&%24top=5&%24spatialFilter=nearby(${a}%2C%20${i}%2C%205000)&%24format=JSON`;o.value=await(0,l.Z)(c),s.value=!1}catch(e){console.log("fetch error",e)}}),{deep:!0}),{tempAttraction:n,nearby:o,isLoading:s}}};const D=(0,P.Z)(h,[["render",o]]);var A=D}}]);
//# sourceMappingURL=505.d9e54c63.js.map