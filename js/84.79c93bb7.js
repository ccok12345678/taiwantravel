"use strict";(self["webpackChunktaiwan_travel"]=self["webpackChunktaiwan_travel"]||[]).push([[84],{4944:function(t,a,e){e.d(a,{Z:function(){return k}});var i=e(1831),c=e(6923),n=e(883),l=e(3303);const o=t=>((0,i.dD)("data-v-3ae70191"),t=t(),(0,i.Cn)(),t),r=o((()=>(0,i._)("img",{class:"position-absolute link",src:n,alt:"link icon"},null,-1))),s=["src","alt"],u={key:1,class:"object-cover w-100",src:l,alt:"該資料沒有圖片",title:"該資料沒有圖片",height:"163"},p={class:"px-3 py-2"},m={class:"text-dark"},d={class:"d-flex"},g=["title"],v=["title"];function w(t,a,e,n,l,o){const w=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(w,{class:"rounded overflow-hidden bg-white shadow d-block position-relative",to:{name:"attractionInfo",params:{attractionId:e.attraction.ScenicSpotID}},title:`察看${e.attraction.ScenicSpotName}`},{default:(0,i.w5)((()=>[r,"PictureUrl1"in e.attraction.Picture?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"object-cover w-100",src:e.attraction.Picture.PictureUrl1,alt:e.attraction.Picture.PictureDescription1,height:"163"},null,8,s)):((0,i.wg)(),(0,i.iD)("img",u)),(0,i._)("div",p,[(0,i._)("h4",m,(0,c.zw)(e.attraction.ScenicSpotName),1),(0,i._)("div",d,[e.attraction.City?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"location me-3",title:e.attraction.City},(0,c.zw)(e.attraction.City),9,g)):(0,i.kq)("",!0),e.attraction.OpenTime?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"open-time text-truncate",title:e.attraction.OpenTime},(0,c.zw)(e.attraction.OpenTime),9,v)):(0,i.kq)("",!0)])])])),_:1},8,["to","title"])}var y={props:{attraction:{type:Object,default:()=>({ScenicSpotName:"觀光活動",Picture:{PictureUrl1:"https://i.ibb.co/125cfL1/illustration-sm.png"},City:"景點位置",OpenTime:"開放時間",ScenicSpotID:"/"})}}},h=e(497);const f=(0,h.Z)(y,[["render",w],["__scopeId","data-v-3ae70191"]]);var k=f},590:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var i=e(1831),c=e(6923);const n={class:"mb-3 mb-md-4"},l={class:"row gy-2 gy-md-4"},o={class:"d-flex justify-content-center"};function r(t,a,e,r,s,u){const p=(0,i.up)("SortBar"),m=(0,i.up)("Card"),d=(0,i.up)("NoResultMessage"),g=(0,i.up)("Paginate"),v=(0,i.up)("VueLoading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("h3",n,(0,c.zw)(r.cityName.name)+"：觀光景點",1),(0,i.Wm)(p,{class:"mb-3 mb-md-4"}),(0,i._)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.pagination.pageData,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-12 col-sm-6 col-md-4",key:t.ScenicSpotID},[(0,i.Wm)(m,{class:"w-100",attraction:t},null,8,["attraction"])])))),128))]),"pageData"in r.pagination&&!r.pagination.pageData.length?((0,i.wg)(),(0,i.j4)(d,{key:0,class:"my-2 my-md-4"})):(0,i.kq)("",!0),(0,i._)("nav",o,[(0,i.Wm)(g,{"page-count":r.pagination.pageTotal,"click-handler":r.changePage},null,8,["page-count","click-handler"])]),r.isLoading?((0,i.wg)(),(0,i.j4)(v,{key:1})):(0,i.kq)("",!0)],64)}var s=e(1222),u=e(5303),p=e(2814),m=e(3001),d=e(1669),g=e(4944),v=e(1239),w=e(121),y=e(3120),h=e(4897),f=e(3685),k={components:{SortBar:d.Z,Card:g.Z,Paginate:v.Z},setup(){const t=(0,u.yj)(),{cityId:a,searchKeyword:e}=t.params,c=(0,s.iH)([]),n=(0,s.iH)({}),l=(0,s.iH)(""),o=(0,s.iH)(!0),r=`v2/Tourism/ScenicSpot/${"all"===a?"":a}?%24format=JSON`;function d(a){window.scrollTo(0,0),n.value=(0,m.Z)((0,h.Kl)(t.params.searchKeyword,c.value),a)}return(0,i.bv)((async()=>{l.value=w.Z.filter((t=>t.english===a))[0];try{c.value=await(0,p.Z)(r),n.value=(0,m.Z)((0,h.Kl)(e,c.value)),o.value=!1}catch(t){console.log("fetch error",t)}y.Z.emit("emit-cityName",l.value.english)})),(0,i.YP)((()=>t.params.cityId),(async a=>{o.value=!0,l.value=w.Z.filter((t=>t.english===a))[0];try{const e=`v2/Tourism/ScenicSpot/${"all"===a?"":a}?%24format=JSON`;c.value=await(0,p.Z)(e),n.value=(0,m.Z)((0,h.Kl)(t.params.searchKeyword,c.value)),o.value=!1}catch(e){console.log("fetch error",e),o.value=!1}y.Z.emit("emit-cityName",a)})),(0,i.YP)((()=>t.params.searchKeyword),(t=>{n.value=(0,m.Z)((0,h.Kl)(t,c.value))})),(0,f.jq)({title:"地區觀光景點"}),{cityName:l,isLoading:o,pagination:n,changePage:d}}},S=e(497);const Z=(0,S.Z)(k,[["render",r]]);var b=Z}}]);
//# sourceMappingURL=84.79c93bb7.js.map