"use strict";(self["webpackChunktaiwan_travel"]=self["webpackChunktaiwan_travel"]||[]).push([[650],{7512:function(t,a,e){e.d(a,{Z:function(){return P}});var i=e(1831),c=e(6923),n=e(883),l=e(3303);const r=t=>((0,i.dD)("data-v-7338a29f"),t=t(),(0,i.Cn)(),t),o=r((()=>(0,i._)("img",{class:"position-absolute link",src:n,alt:"link icon"},null,-1))),s=["src","alt"],u={key:1,class:"object-cover w-100",src:l,alt:"該資料沒有圖片",title:"該資料沒有圖片",height:"163"},v={class:"px-3 py-2"},d={class:"text-dark text-truncate"},g={class:"vstack"},m=["title"],y=["title"];function p(t,a,e,n,l,r){const p=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(p,{class:"rounded overflow-hidden bg-white shadow d-block position-relative h-100",to:`/activities/${e.activity.ActivityID}`,title:e.activity.ActivityName},{default:(0,i.w5)((()=>[o,"PictureUrl1"in e.activity.Picture?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"object-cover w-100",src:e.activity.Picture.PictureUrl1,alt:e.activity.Picture.PictureDescription1,height:"163"},null,8,s)):((0,i.wg)(),(0,i.iD)("img",u)),(0,i._)("div",v,[(0,i._)("h4",d,(0,c.zw)(e.activity.ActivityName),1),(0,i._)("div",g,[(0,i._)("div",{class:"open-time mb-2 text-truncate",title:`${n.start} ~ ${n.end}`},(0,c.zw)(n.start)+" ~ "+(0,c.zw)(n.end),9,m),(0,i._)("div",{class:"location me-3 text-truncate",title:e.activity.Location},(0,c.zw)(e.activity.Location),9,y)])])])),_:1},8,["to","title"])}var w=e(1222),h={props:{activity:{type:Object,default:()=>{}}},setup(t){const{StartTime:a,EndTime:e}=(0,w.BK)(t.activity),i=new Date(a.value).toLocaleString().replace("上午12:00:00",""),c=new Date(e.value).toLocaleString().replace("上午12:00:00","");return{start:i,end:c}}},f=e(497);const k=(0,f.Z)(h,[["render",p],["__scopeId","data-v-7338a29f"]]);var P=k},7236:function(t,a,e){e.r(a),e.d(a,{default:function(){return b}});var i=e(1831),c=e(6923);const n={class:"mb-3 mb-md-4"},l={class:"row gy-2 gy-md-4"},r={class:"d-flex justify-content-center"};function o(t,a,e,o,s,u){const v=(0,i.up)("SortBar"),d=(0,i.up)("Card"),g=(0,i.up)("NoResultMessage"),m=(0,i.up)("Paginate"),y=(0,i.up)("VueLoading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("h3",n,(0,c.zw)(o.cityName.name)+"：觀光活動",1),(0,i.Wm)(v,{class:"mb-3 mb-md-4"}),(0,i._)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.pagination.pageData,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-12 col-sm-6 col-md-4",key:t.ActivityID},[(0,i.Wm)(d,{class:"w-100",activity:t},null,8,["activity"])])))),128))]),"pageData"in o.pagination&&!o.pagination.pageData.length?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"my-2 my-md-4"})):(0,i.kq)("",!0),(0,i._)("nav",r,[(0,i.Wm)(m,{"page-count":o.pagination.pageTotal,"click-handler":o.changePage},null,8,["page-count","click-handler"])]),o.isLoading?((0,i.wg)(),(0,i.j4)(y,{key:1})):(0,i.kq)("",!0)],64)}var s=e(1222),u=e(5303),v=e(2814),d=e(3001),g=e(1669),m=e(7512),y=e(1239),p=e(121),w=e(3120),h=e(4897),f=e(3685),k={components:{SortBar:g.Z,Card:m.Z,Paginate:y.Z},setup(){const t=(0,u.yj)(),{cityId:a,searchKeyword:e}=t.params,c=(0,s.iH)([]),n=(0,s.iH)({}),l=(0,s.iH)(""),r=(0,s.iH)(!0),o=`v2/Tourism/Activity/${a}?%24format=JSON`;function g(a){window.scrollTo(0,0),n.value=(0,d.Z)((0,h.oP)(t.params.searchKeyword,c.value),a)}return(0,i.bv)((async()=>{l.value=p.Z.filter((t=>t.english===a))[0];try{c.value=await(0,v.Z)(o),n.value=(0,d.Z)((0,h.oP)(e,c.value)),r.value=!1}catch(t){console.log("fetch error",t)}w.Z.emit("emit-cityName",l.value.english)})),(0,i.YP)((()=>t.params.cityId),(async a=>{r.value=!0,l.value=p.Z.filter((t=>t.english===a))[0];try{const e=`v2/Tourism/ScenicSpot/${"all"===a?"":a}?%24format=JSON`;c.value=await(0,v.Z)(e),n.value=(0,d.Z)((0,h.oP)(t.params.searchKeyword,c.value)),r.value=!1}catch(e){console.log("fetch error",e),r.value=!1}w.Z.emit("emit-cityName",a)})),(0,i.YP)((()=>t.params.searchKeyword),(t=>{n.value=(0,d.Z)((0,h.oP)(t,c.value))})),(0,f.jq)({title:"地區觀光活動"}),{cityName:l,isLoading:r,pagination:n,changePage:g}}},P=e(497);const Z=(0,P.Z)(k,[["render",o]]);var b=Z}}]);
//# sourceMappingURL=650.b743737b.js.map